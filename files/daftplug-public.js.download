jQuery(function(){var optionName=jQuery('.daftplugPublic').attr('data-daftplug-plugin');var objectName=window[optionName+'_public_js_vars'];jQuery('.daftplugPublicFacebookReactions').each(function(e){var self=jQuery(this);var reaction=self.find('.daftplugPublicFacebookReactions_item');var action=optionName+'_react';var nonce=self.attr('data-nonce');var postId=self.attr('data-post-id');var showCount=self.attr('data-show-count');var shareButtons=self.find('.daftplugPublicFacebookReactionsShare');var shareButtonFacebook=self.find('.daftplugPublicFacebookReactionsShare_button.-facebook');var shareButtonTwitter=self.find('.daftplugPublicFacebookReactionsShare_button.-twitter');var notification=self.find('.daftplugPublicFacebookReactionsNotification');var notifEmoji=self.find('.daftplugPublicFacebookReactionsNotification_emoji');var notifClose=self.find('.daftplugPublicFacebookReactionsNotification_close');jQuery(reaction).click(function(){var selfReaction=jQuery(this);var selfCount=parseInt(selfReaction.attr('data-count'));var activeReaction=self.find('.daftplugPublicFacebookReactions_item.-active');var activeCount=parseInt(activeReaction.attr('data-count'));var reactedTo=selfReaction.attr('class').split(" ")[1].substring(1);var reactedImg=selfReaction.find('.daftplugPublicFacebookReactions_image').attr('src');var revertCount;console.log(activeCount);if(selfReaction.hasClass('-active')){return;}
if(showCount==='true'){if(isNaN(selfCount)){selfCount=0;}
if(activeCount<=1){activeReaction.removeAttr('data-count');}else{activeReaction.attr('data-count',activeCount-1);}
selfReaction.attr('data-count',selfCount+1);}
selfReaction.addClass('-active').siblings().removeClass('-active');shareButtons.stop(true,true).slideDown(200,function(){shareButtonFacebook.click(function(){window.open('https://www.facebook.com/sharer/sharer.php?u='+location.href,'_blank','width=626, height=436');});shareButtonTwitter.click(function(){window.open('https://twitter.com/intent/tweet?text='+location.href,'_blank','width=626, height=436');});});jQuery.ajax({url:objectName.ajaxUrl,dataType:'text',type:'POST',data:{action:action,nonce:nonce,postId:postId,reactedTo:reactedTo},beforeSend:function(){},success:function(response,textStatus,jqXhr){},complete:function(){},error:function(jqXhr,textStatus,errorThrown){}});notification.stop(true,true).fadeIn(function(){notifEmoji.css('background-image','url('+reactedImg+')');notifClose.click(function(){notification.hide();});}).delay(3000).fadeOut('slow');});});});